class ThemeManager{constructor(){this.theme=this.getStoredTheme()||this.getSystemTheme(),this.init()}init(){this.applyTheme(this.theme),this.bindEvents(),this.updateToggleIcon()}getStoredTheme(){return localStorage.getItem("theme")}getSystemTheme(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}applyTheme(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e),this.theme=e}toggleTheme(){const e="light"===this.theme?"dark":"light";this.applyTheme(e),this.updateToggleIcon()}updateToggleIcon(){const e=document.getElementById("theme-toggle");if(e){const t="dark"===this.theme;e.setAttribute("aria-label",t?"Switch to light mode":"Switch to dark mode")}}bindEvents(){const e=document.getElementById("theme-toggle");e&&e.addEventListener("click",()=>this.toggleTheme()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{this.getStoredTheme()||(this.applyTheme(e.matches?"dark":"light"),this.updateToggleIcon())})}}class MobileMenu{constructor(){this.isOpen=!1,this.init()}init(){this.bindEvents(),this.createMobileMenu()}bindEvents(){const e=document.getElementById("mobile-menu-toggle");e&&e.addEventListener("click",()=>this.toggle()),document.addEventListener("click",e=>{this.isOpen&&!e.target.closest(".nav")&&this.close()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&this.isOpen&&this.close()})}createMobileMenu(){const e=document.querySelector(".nav"),t=document.querySelector(".nav-menu");if(e&&t){const n=t.cloneNode(!0);n.classList.add("mobile-menu"),n.style.display="none",e.appendChild(n)}}toggle(){this.isOpen?this.close():this.open()}open(){const e=document.querySelector(".mobile-menu"),t=document.getElementById("mobile-menu-toggle");e&&(e.style.display="flex",e.classList.add("mobile-menu-open"),this.isOpen=!0,t&&t.classList.add("mobile-menu-active"))}close(){const e=document.querySelector(".mobile-menu"),t=document.getElementById("mobile-menu-toggle");e&&(e.style.display="none",e.classList.remove("mobile-menu-open"),this.isOpen=!1,t&&t.classList.remove("mobile-menu-active"))}}class SmoothScroll{constructor(){this.init()}init(){this.bindEvents()}bindEvents(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{const n=e.getAttribute("href");if("#"===n)return;const o=document.querySelector(n);o&&(t.preventDefault(),this.scrollToElement(o))})})}scrollToElement(e){const t=document.querySelector(".header")?.offsetHeight||0,n=e.offsetTop-t-20;window.scrollTo({top:n,behavior:"smooth"})}}class AnimationObserver{constructor(){this.init()}init(){"IntersectionObserver"in window&&(this.createObserver(),this.observeElements())}createObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),this.observer.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"})}observeElements(){document.querySelectorAll(".feature-card, .hero-content, .hero-image, .section-title, .section-subtitle").forEach(e=>{this.observer.observe(e)})}}class PerformanceOptimizer{constructor(){this.init()}init(){this.lazyLoadImages(),this.preloadCriticalResources()}lazyLoadImages(){"loading"in HTMLImageElement.prototype?document.querySelectorAll("img[data-src]").forEach(e=>{e.src=e.dataset.src,e.removeAttribute("data-src")}):this.implementIntersectionObserverLazyLoading()}implementIntersectionObserverLazyLoading(){const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const n=t.target;n.src=n.dataset.src,n.removeAttribute("data-src"),e.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}preloadCriticalResources(){[{href:"/assets/css/style.css",as:"style"},{href:"https://fonts.googleapis.com",rel:"preconnect"},{href:"https://fonts.gstatic.com",rel:"preconnect",crossorigin:!0}].forEach(e=>{const t=document.createElement("link");Object.assign(t,e),t.rel=e.rel||"preload",document.head.appendChild(t)})}}class ErrorHandler{constructor(){this.init()}init(){this.bindErrorEvents()}bindErrorEvents(){window.addEventListener("error",e=>{console.error("JavaScript Error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled Promise Rejection:",e.reason)})}}class AccessibilityEnhancer{constructor(){this.init()}init(){this.enhanceKeyboardNavigation(),this.announcePageChanges(),this.manageFocus()}enhanceKeyboardNavigation(){this.addSkipLink(),document.querySelectorAll('button, [role="button"]').forEach(e=>{e.addEventListener("keydown",t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})})}addSkipLink(){const e=document.createElement("a");e.href="#main",e.textContent="Skip to main content",e.className="skip-link",e.style.cssText="\n            position: absolute;\n            top: -40px;\n            left: 6px;\n            background: var(--primary-color);\n            color: white;\n            padding: 8px;\n            z-index: 1000;\n            text-decoration: none;\n            transition: top 0.3s;\n        ",e.addEventListener("focus",()=>{e.style.top="6px"}),e.addEventListener("blur",()=>{e.style.top="-40px"}),document.body.insertBefore(e,document.body.firstChild)}announcePageChanges(){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.style.cssText="\n            position: absolute;\n            left: -10000px;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n        ",document.body.appendChild(e),window.accessibilityAnnouncer=e}manageFocus(){let e=null;document.addEventListener("focusin",t=>{e=t.target}),window.focusManager={lastFocusedElement:()=>e,returnFocus:()=>{e&&"function"==typeof e.focus&&e.focus()}}}}document.addEventListener("DOMContentLoaded",()=>{new ThemeManager,new MobileMenu,new SmoothScroll,new AnimationObserver,new PerformanceOptimizer,new ErrorHandler,new AccessibilityEnhancer;const e=document.querySelector("main");e&&(e.id="main"),console.log("ðŸ”­ Lookinglass website initialized successfully!")});const mobileMenuStyles="\n    .mobile-menu {\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        background-color: var(--background-color);\n        border-top: 1px solid var(--border-color);\n        flex-direction: column;\n        gap: 1rem;\n        padding: 1rem;\n        box-shadow: 0 4px 6px var(--shadow-color);\n        z-index: 999;\n    }\n    \n    .mobile-menu-toggle.mobile-menu-active span:nth-child(1) {\n        transform: rotate(45deg) translate(5px, 5px);\n    }\n    \n    .mobile-menu-toggle.mobile-menu-active span:nth-child(2) {\n        opacity: 0;\n    }\n    \n    .mobile-menu-toggle.mobile-menu-active span:nth-child(3) {\n        transform: rotate(-45deg) translate(7px, -6px);\n    }\n    \n    @media (min-width: 769px) {\n        .mobile-menu {\n            display: none !important;\n        }\n    }\n    \n    .animate-in {\n        animation: fadeInUp 0.6s ease-out forwards;\n    }\n",styleSheet=document.createElement("style");styleSheet.textContent=mobileMenuStyles,document.head.appendChild(styleSheet);